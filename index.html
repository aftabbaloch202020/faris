<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Product Modal + Slide Cart</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}
body{background:#f5f6fa}

/* PRODUCT CARD */
.products{display:flex;justify-content:center;margin-top:60px}
.product-card{
    width:260px;background:#fff;padding:20px;border-radius:15px;
    text-align:center;position:relative;
    box-shadow:0 10px 25px rgba(0,0,0,.1)
}
.product-card img{width:100%;height:220px;object-fit:contain}
.icons{
    position:absolute;bottom:90px;left:50%;transform:translateX(-50%);
    display:flex;gap:10px
}
.icons i{
    width:38px;height:38px;background:#fff;border-radius:50%;
    display:flex;align-items:center;justify-content:center;
    box-shadow:0 5px 15px rgba(0,0,0,.2);cursor:pointer
}
.icons .cart{background:#4aa3df;color:#fff}
.product-card h3{margin-top:10px;font-size:16px}
.product-card p{color:#4aa3df;font-weight:600}

/* MODAL */
.overlay,.cart-overlay{
    position:fixed;inset:0;background:rgba(0,0,0,.5);
    opacity:0;visibility:hidden;transition:.3s
}
.overlay.active,.cart-overlay.active{opacity:1;visibility:visible}

.modal{
    position:fixed;top:50%;left:50%;
    transform:translate(-50%,-50%) scale(.8);
    width:850px;max-width:95%;background:#fff;
    border-radius:15px;display:flex;
    opacity:0;visibility:hidden;transition:.3s;z-index:100
}
.modal.active{opacity:1;visibility:visible;transform:translate(-50%,-50%) scale(1)}
.modal-img{width:45%;padding:30px}
.modal-img img{width:100%}
.modal-content{width:55%;padding:30px}
.close-btn{
    position:absolute;top:15px;right:15px;width:35px;height:35px;
    background:#4aa3df;color:#fff;border-radius:50%;
    display:flex;align-items:center;justify-content:center;cursor:pointer
}
.price{color:#4aa3df;font-size:20px;margin:10px 0}
.weight button{
    padding:8px 15px;border:1px solid #ddd;background:#fff;
    margin-right:8px;cursor:pointer;border-radius:5px
}
.weight button.active{background:#000;color:#fff}
.qty{display:flex;align-items:center;margin:20px 0}
.qty button{width:35px;height:35px;border:none;background:#eee;cursor:pointer}
.qty span{width:40px;text-align:center}
.actions button{
    width:100%;padding:14px;border:none;border-radius:8px;
    font-size:16px;cursor:pointer;margin-top:10px
}
.add{background:#4aa3df;color:#fff}
.buy{background:#7bbce8;color:#fff}

/* CART */
.cart-drawer{
    position:fixed;top:0;right:-420px;width:420px;height:100%;
    background:#fff;transition:.4s ease;z-index:200;
    display:flex;flex-direction:column
}
.cart-drawer.active{right:0}
.cart-header{
    padding:18px;border-bottom:1px solid #eee;
    display:flex;justify-content:space-between;align-items:center
}
.cart-items{flex:1;padding:20px}
.cart-item{display:flex;gap:15px}
.cart-item img{width:60px}
.cart-info p{font-size:13px;color:#666}
.qty-box{display:flex;align-items:center;margin-top:8px}
.qty-box button{width:28px;height:28px;border:none;background:#eee;cursor:pointer}
.qty-box span{width:30px;text-align:center}
.remove{font-size:13px;text-decoration:underline;cursor:pointer;margin-left:10px}
.cart-footer{
    padding:20px;border-top:1px solid #eee
}
.subtotal{display:flex;justify-content:space-between;font-weight:600;margin-bottom:15px}
.checkout{
    width:100%;padding:14px;background:#4aa3df;
    border:none;color:#fff;border-radius:8px;cursor:pointer
}
</style>
</head>

<body>

<!-- PRODUCT -->
<div class="products">
    <div class="product-card">
        <img src="p4.webp">
        <div class="icons">
            <i class="fas fa-eye"></i>
            <i class="fas fa-shopping-cart cart" onclick="openModal()"></i>
            <i class="far fa-heart"></i>
        </div>
        <h3>Original Ginger Chews</h3>
        <p>$75.00</p>
    </div>
</div>




<!-- MODAL -->
<div class="overlay" id="overlay" onclick="closeModal()"></div>

<div class="modal" id="modal">
    <div class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></div>

    <div class="modal-img"><img src="p3.webp"></div>

    <div class="modal-content">
        <h2>Original Ginger Chews</h2>
        <div class="price" id="modalPrice">$75.00</div>

        <p><strong>Weight:</strong></p>
        <div class="weight">
            <button class="active" data-price="75">100g</button>
            <button data-price="140">200g</button>
            <button data-price="300">500g</button>
        </div>

        <div class="qty">
            <button onclick="changeQty(-1)">-</button>
            <span id="qty">1</span>
            <button onclick="changeQty(1)">+</button>
        </div>

        <div class="actions">
            <button class="add" onclick="addToCart()">ADD TO CART</button>
            <button class="buy">BUY IT NOW</button>
        </div>
    </div>
</div>

<!-- CART -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>

<div class="cart-drawer" id="cartDrawer">
    <div class="cart-header">
        <h4>Item added to your cart</h4>
        <i class="fas fa-times" onclick="closeCart()"></i>
    </div>

    <div class="cart-items" id="cartItems"></div>

    <div class="cart-footer">
        <div class="subtotal">
            <span>Subtotal</span>
            <span>$<span id="cartTotal">0</span>.00</span>
        </div>
        <button class="checkout">CHECK OUT</button>
    </div>
</div>

<script>
let qty = 1;
let cartQty = 0;
let cartPrice = 0;

/* MODAL */
function openModal(){
    document.getElementById("modal").classList.add("active");
    document.getElementById("overlay").classList.add("active");
}
function closeModal(){
    document.getElementById("modal").classList.remove("active");
    document.getElementById("overlay").classList.remove("active");
}

/* MODAL QTY */
function changeQty(val){
    qty = Math.max(1, qty + val);
    document.getElementById("qty").innerText = qty;
}

/* WEIGHT */
document.querySelectorAll(".weight button").forEach(btn=>{
    btn.onclick=()=>{
        document.querySelectorAll(".weight button").forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById("modalPrice").innerText = `$${btn.dataset.price}.00`;
    }
});

/* ADD TO CART */
function addToCart(){
    const active = document.querySelector(".weight .active");
    const weight = active.innerText;
    cartPrice = Number(active.dataset.price);
    cartQty = qty;

    document.getElementById("cartItems").innerHTML = `
        <div class="cart-item">
            <img src="p3.webp">
            <div class="cart-info">
                <h4>Original Ginger Chews</h4>
                <p>Weight: ${weight}</p>
                <strong>$${cartPrice}.00</strong>

                <div class="qty-box">
                    <button onclick="updateCartQty(-1)">-</button>
                    <span id="cartQty">${cartQty}</span>
                    <button onclick="updateCartQty(1)">+</button>
                    <span class="remove" onclick="removeItem()">Remove</span>
                </div>
            </div>
        </div>
    `;

    updateTotal();
    closeModal();
    openCart();
}

/* CART FUNCTIONS */
function updateCartQty(val){
    cartQty = Math.max(0, cartQty + val);
    if(cartQty === 0){ removeItem(); return; }
    document.getElementById("cartQty").innerText = cartQty;
    updateTotal();
}

function removeItem(){
    cartQty = 0;
    document.getElementById("cartItems").innerHTML = "";
    updateTotal();
}

function updateTotal(){
    document.getElementById("cartTotal").innerText = cartQty * cartPrice;
}

function openCart(){
    document.getElementById("cartDrawer").classList.add("active");
    document.getElementById("cartOverlay").classList.add("active");
}
function closeCart(){
    document.getElementById("cartDrawer").classList.remove("active");
    document.getElementById("cartOverlay").classList.remove("active");
}
</script>

</body>
</html>
